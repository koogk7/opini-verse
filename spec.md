# AI 페르소나 댓글 서비스 명세서

## 목적

사용자가 제출한 콘텐츠에 대해 다양한 AI 페르소나 의견을 생성하는 서비스를 만들어 개인 프로젝트로 개발합니다. 이 시스템은 사용자가 각기 다른 성격, 전문 영역 및 응답 스타일을 가진 여러 AI 페르소나로부터 댓글을 받을 수 있도록 합니다.

---

## 핵심 기능

1. 사용자가 AI 페르소나가 댓글을 달 콘텐츠를 제출
2. 사용자가 댓글을 생성할 AI 페르소나 선택
3. 시스템이 선택된 AI 페르소나를 통해 콘텐츠를 처리
4. 시스템이 페르소나별 의견/댓글 반환
5. 각 댓글에 추가 메타데이터 제공

---

## 간단한 시스템 구조

### 기술 스택

| 구성 요소 | 기술 | 설명 |
|-----------|------------|-------------|
| API 서버 | Node.js + Express | 요청 처리를 담당하는 간단한 API |
| AI 엔진 | OpenAI API | 페르소나 구현을 위한 기본 LLM |
| 데이터 저장 | 로컬 JSON 파일 | 페르소나 정의 및 설정 저장 |
| 프론트엔드 | HTML, CSS, JavaScript | 간단한 인터페이스 |

### API 구조

기본적인 REST API 엔드포인트:

```http
POST /api/comments
```

#### 요청 본문

```json
{
  "content": "댓글을 받을 사용자 콘텐츠",
  "personas": ["기술전문가", "초보자", "창의적인사람"]
}
```

#### 응답 형식

```json
{
  "comments": [
    {
      "personaName": "기술전문가",
      "comment": "이 코드는 최적화가 필요해 보입니다...",
      "metadata": {
        "generationTime": "235ms"
      }
    },
    {
      "personaName": "초보자",
      "comment": "이 코드가 어떻게 작동하는지 이해하기 어려워요...",
      "metadata": {
        "generationTime": "189ms"
      }
    }
  ]
}
```

---

## AI 페르소나 시스템

### 페르소나 정의 구조

각 페르소나는 간단한 JSON 파일로 정의:

```json
{
  "name": "기술전문가",
  "expertise": ["프로그래밍", "알고리즘"],
  "personality": "분석적이고 논리적인 접근",
  "background": "10년 경력의 소프트웨어 개발자",
  "promptTemplate": "당신은 10년 경력의 소프트웨어 개발자입니다. 다음 콘텐츠에 대해 기술적인 관점에서 분석하고 댓글을 작성해주세요: {{content}}"
}
```

### 페르소나 구현 전략

1. **간단한 프롬프트 시스템**: 각 페르소나마다 고유한 프롬프트 템플릿 사용
2. **기본 파이프라인**:
   - 사용자 입력 → 프롬프트 적용 → OpenAI API 호출 → 응답 포맷팅

---

## 개발 우선순위

1. **기본 기능부터 구현**:
   - 단일 페르소나 응답 생성
   - 간단한 API 구조
   - 최소한의 프론트엔드

2. **점진적 개선**:
   - 추가 페르소나 구현
   - 응답 품질 향상
   - UI 개선

---

## 향후 확장 가능성

- 더 많은 페르소나 추가
- 페르소나 응답 품질 개선
- 간단한 사용자 인터페이스 개선
- 사용자 피드백 수집 기능